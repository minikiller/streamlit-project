# streamlit-project

## 数据爬取

```
biding：项目
执行：Hist_2023-03-25.csv copy to data
```

## 数据清洗

```
tools 目录下：
1. 股票属于多板块 
    ../data/merge_{datetime.now().strftime('%Y-%m-%d')}.csv
2. 按板块分组统计:
   result_0-100_20230325
   result_100-500_20230325
   result_500-1000_20230325
   result_1000-30000_20230325
   result_all_20230325
```

## get data code 

```python 
total_df = pd.read_csv("../data/总股本_em.csv",
                    index_col=["股票代码"], dtype={"股票代码": object})
```

```python
code_df = pd.read_csv(
    "../data/板块名称_股票对应.csv", index_col=0, dtype={"股票代码": object})
```

## 以下的股票代码没有获得总股本

['300728',
 '002021',
 '000157',
 '836720',
 '002857',
 '600885',
 '300444',
 '002962',
 '300964',
 '002260',
 '002473',
 '600664',
 '000788',
 '002435',
 '002755',
 '600488',
 '600856',
 '000835',
 '002619',
 '600652',
 '605077',
 '300870',
 '688123']

 '300728',---> 退市
 
 -,-,-,20080716,002260,德奥退,-,-
 -,-,-,20100910,002473,圣莱退,-,-
 -,-,-,19940425,600856,退市中天,-,-
-,-,-,19990625,000835,长动退,-,-
-,-,-,20110929,002619,*ST艾格,-,-
-,-,-,19901219,600652,退市游久,-,-


## tools 下的create_data.py 自动生成板块统计文件


## 保存streamlit-aggrid的条件